/*! jQuery.WhenIType 1.0.0 | (c) 2013 | Licensed Apache 2.0 */
!function(a,b){"use strict";var c={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},d={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},e=function(a){this.num=0,this.timer=a>0?a:!1};e.prototype.val=function(){return this.num},e.prototype.inc=function(){this.timer&&(clearTimeout(this.timeout),this.timeout=setTimeout(jQuery.proxy(e.prototype.reset,this),this.timer)),this.num++},e.prototype.reset=function(){this.timer&&clearTimeout(this.timeout),this.num=0};var f=function(a,b){for(var c=a.split(" "),d=0,e=c.length;e>d;d++)if(b[c[d]])return!0;return!1},g=function(a){return a.toLowerCase()},h=function(a){return a.join("")},i={},j=function(a,j,k){if(this===a.target||a.altKey||a.ctrlKey||a.metaKey||!/textarea|select/i.test(a.target.nodeName)&&"text"!==a.target.type&&"true"!==b(a.target).prop("contenteditable")){var l="keypress"!==a.type&&c[a.which],m=String.fromCharCode(a.which).toLowerCase(),n="",o={};a.altKey&&"alt"!==l&&(n+="alt+"),a.ctrlKey&&"ctrl"!==l&&(n+="ctrl+"),a.metaKey&&!a.ctrlKey&&"meta"!==l&&(n+="meta+"),a.shiftKey&&"shift"!==l&&(n+="shift+"),l&&(o[n+l]=!0),m&&(o[n+m]=!0),/shift+/.test(n)&&(o[n.replace("shift+","")+d[l||m]]=!0);for(var p=0,q=j.length;q>p;p++){var r=j[p];r=jQuery.map(r,g);var s=h(r),t=i[s];t||(t=new e(700),i[s]=t);var u=t.val();if(f(r[u],o)){if(u===r.length-1)return t.reset(),k.apply(this,arguments);t.inc()}else t.reset(),f(r[0],o)&&t.inc()}}},k=-1!==navigator.platform.indexOf("Mac"),l=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i,m={type_x:'Type "{0}"',then_x:' then "{0}"',or_x:' OR "{0}"'},n=function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof b[c]?b[c]:a})};a.whenIType=function(a){var c=b(this),d=[],e=b.Callbacks(),f=[],g=function(){for(var a=!0,b=f.length,c=0;b>c;c++)if(!f[c]()){a=!1;break}return a},h=function(a){return j(a,d,function(a){g()&&(e.fire(a),a.preventDefault())})},i=function(a){var c=a&&a.split?b.trim(a).split(" "):[a];b.each(c,function(){r(this)})},p=function(a){for(var b=a.length;b--;)if(a[b].length>1&&"space"!==a[b])return!0;return!1},q=!1,r=function(a){var b=a instanceof Array?a:s(a.toString()),e=p(b)?"keydown.whenitype":"keypress.whenitype";d.push(b),q||(c.on(e,h),q=!0)},s=function(a){for(var b,c,d=[],e="";a.length;)b=a.match(/^(ctrl|meta|shift|alt)\+/i),b?(e+=b[0],a=a.substring(b[0].length)):(c=a.match(l),c?(d.push(e+c[0]),a=a.substring(c[0].length),e=""):(d.push(e+a[0]),a=a.substring(1),e=""));return d},t=function(a){for(var c=b(a),e=c.attr("title")||"",f=d.slice(),g=c.data("kbShortcutAppended")||"",h=!g,i=h?e:e.substring(0,e.length-g.length);f.length;)g=v(f.shift().slice(),g,h),h=!1;k&&(g=g.replace(/Meta/gi,"⌘").replace(/Shift/gi,"⇧")),c.attr("title",i+g),c.data("kbShortcutAppended",g)},u=function(a){var c=b(a),d=c.data("kbShortcutAppended");if(d){var e=c.attr("title");c.attr("title",e.replace(d,"")),c.removeData("kbShortcutAppended")}},v=function(a,c,d){return d?c+=" ("+n(m.type_x,a.shift()):(c=c.replace(/\)$/,""),c+=n(m.or_x,a.shift())),b.each(a,function(){c+=" "+n(m.then_x,this)}),c+=")"};return i(a),o(c,{executor:e,predicates:f,bindKeys:i,addShortcutsToTitle:t,removeShortcutsFromTitle:u,keypressHandler:h})};var o=function(a,c){var d=c.executor,e=c.predicates,f=c.bindKeys,g=c.addShortcutsToTitle,h=c.removeShortcutsFromTitle,i=c.keypressHandler,j=[];return{click:function(a){return j.push(a),g(a),d.add(function(){var c=b(a);c.length>0&&c.click()}),this},goTo:function(a){return d.add(function(){window.location.href=a}),this},followLink:function(a){return j.push(a),g(a),d.add(function(){var c=b(a)[0];c&&{a:!0,link:!0}[c.nodeName.toLowerCase()]&&(window.location.href=c.href)}),this},execute:function(a){var b=this;return d.add(function(){a.apply(b,arguments)}),this},moveToAndClick:function(a){return j.push(a),g(a),d.add(function(){var c=b(a);c.length>0&&(c.click(),c.moveTo())}),this},moveToAndFocus:function(a){return j.push(a),g(a),d.add(function(c){var d=b(a);d.length>0&&(d.focus(),d.moveTo&&d.moveTo(),d.is(":input")&&c.preventDefault())}),this},or:function(a){return f(a),this},"if":function(a){return e.push(a),this},ifnot:function(a){var b=function(){return!a.apply(this,arguments)};return e.push(b),this},unbind:function(){a.off("keydown.whenitype keypress.whenitype",i);for(var b=0,c=j.length;c>b;b++)h(j[b]);j=[]}}}}(jQuery.fn,jQuery);